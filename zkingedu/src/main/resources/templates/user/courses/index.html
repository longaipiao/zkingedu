<!DOCTYPE html>
<html lang="zh-CN" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Lei Shi">
    <meta http-equiv="Cache-Control" content="o-transform">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta name="csrf-token" content="1483780974##87f89328c5616669f00302a263fe9061bb852818">

    <title>全部 - 课程 - 实验楼</title>

    <meta content="实验楼课程分为基础课和项目课，内容涵盖了Linux、Python、Java、C语言、Ruby、Android、IOS开发、大数据、信息安全等IT技术领域。" name="description">
    <meta content="实验楼课程,IT培训课程,IT实训课程,IT在线课程,all" name="keywords">

    <meta content="实验楼,琛石科技" name="author">

    <link rel="shortcut icon" href="favicon.ico">
    <link rel="stylesheet" href="/user/static/font-awesome//4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/user/static/highlight.js/9.8.0/monokai-sublime.min.css">
    <link rel="stylesheet" href="/user/app/css/libs/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="/user/app/css/libs/katex/0.6.0/katex.min.css">
    <link rel="stylesheet" href="/user/app/css/libs/videojs/5.11.7/video-js.min.css">
    <link rel="stylesheet" href="/user/app/css/dest/styles.css?=2016121272249">


    <style>
        @font-face {
            font-family: "lantingxihei";
            src: url("/user/fonts/FZLTCXHJW.TTF");
        }

        /* modal 模态框*/
        #invite-user .modal-body {
            overflow: hidden;
        }

        #invite-user .modal-body .form-label {
            margin-bottom: 16px;
            font-size: 14px;
        }

        .system{

        }


        #invite-user .modal-body .form-invite {
            width: 80%;
            padding: 6px 12px;
            background-color: #eeeeee;
            border: 1px solid #cccccc;
            border-radius: 5px;
            float: left;
            margin-right: 10px;
        }

        #invite-user .modal-body .msg-modal-style {
            background-color: #7dd383;
            margin-top: 10px;
            padding: 6px 0;
            text-align: center;
            width: 100%;
        }

        #invite-user .modal-body .modal-flash {
            position: absolute;
            top: 53px;
            right: 74px;
            z-index: 999;
        }

        /* end modal */

        .en-footer {
            padding: 30px;
            text-align: center;
            font-size: 14px;
        }
    </style>


</head>

<body>


<!--课程搜索隐藏标签-->
<input type="hidden"  th:value="${content}" id="search" />


<link rel="stylesheet" href="/user/layui/css/layui.css">



<!--头部-->
<!--<nav  class="navbar navbar-default navbar-fixed-top header">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#header-navbar-collapse" aria-expanded="false">
                <span class="sr-only">实验楼</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">
                <img src="/user/img/logo_03.png">
            </a>
        </div>

        <div class="collapse navbar-collapse" id="header-navbar-collapse">
            <ul class="nav navbar-nav">
                <li class="dropdown ">
                    <a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown">
                        课程
                        <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a class="active" href="/user/courses/index.html" >全部课程</a></li>
                        <li><a class="" href="/user/courses/index.html?status=preview" >即将上线</a></li>
                        <li><a class="" href="/user/developer/index.html">开发者</a></li>
                    </ul>
                </li>
                <li class="">
                    <a href="/user/paths/index.html">路径</a>
                </li>
                <li class="">
                    <a href="/user/questions/index.html">讨论区</a>
                </li>
                <li class=" bootcamp new-nav logo-1111">
                    <a href="/user/bootcamp/index.html">训练营</a>
                </li>
                <li class=" new-nav logo-1111">
                    <a href="/user/vip/index.html">会员</a>
                </li>
            </ul>
            <div class="navbar-right btns">
                <a class="btn btn-default navbar-btn sign-in" data-sign="signin" href="#sign-modal" data-toggle="modal">登录</a>
                <a class="btn btn-default navbar-btn sign-up" data-sign="signup" href="#sign-modal" data-toggle="modal">注册</a>
            </div>
            <form class="navbar-form navbar-right" action="/user/PageSearch" method="post" role="search">
                <select class="form-control" name="type">
                    <option value="course">课程</option>
                    <option value="post">帖子</option>
                </select>
                <input type="text" class="form-control" name="SearchName" autocomplete="off" placeholder="搜索 课程/帖子">
                <button type="submit"  class="layui-btn">搜索</button>
            </form>
        </div>
    </div>
</nav>-->


<div class="container layout layout-margin-top">


    <div class="row">
        <div class="col-md-9 layout-body">

            <div class="content">
                <div class="row course-cates">
                    <div class="col-md-1 course-cates-title">标签：</div>
                    <div class="col-md-11 course-cates-content system" id="coursetype">
                        <!--===========================================-->
                        <!--===========================================-->
                        <!--===========================================-->
                        <!--===========================================-->
                        <!--===========================================-->

                        <!--绑定课程分类数据-->
                        <!--                        <a class="active" href="/courses/?course_type=all&amp;fee=all">全部</a>-->
                        <!--                        <a class="" href="/courses/?course_type=all&amp;tag=Python&amp;fee=all">JAVA</a>-->
                    </div>
                </div>
            </div>
            <div class="content position-relative">
                <ul class="nav nav-tabs" role="tablist">
                    <li class="active"><a href="/courses/?course_type=all&amp;tag=all&amp;fee=all">已上线</a></li>
                </ul>
                <div class="clearfix"></div>
                <div class="search-result"></div>
                <div class="row" id="coursecontent">

                    <!--<div class="col-md-4 col-sm-6  course">
                        <a class="course-box" href="show.html">
                            <div class="sign-box">
                                <i class="fa fa-star-o course-follow pull-right"
                                   data-follow-url="/courses/717/follow"
                                   data-unfollow-url="/courses/717/unfollow" style="display:none"></i>
                            </div>
                            <div class="course-img">
                                <img alt="Kali 渗透测试 - Web 应用攻击实战"
                                     src="https://dn-simplecloud.shiyanlou.com/1480389165511.png">
                            </div>
                            <div class="course-body">
                                <span class="course-title" data-toggle="tooltip" data-placement="bottom"
                                      title="Kali 渗透测试 - Web 应用攻击实战">Kali 渗透测试 - Web 应用攻击实战</span>
                            </div>
                            <div class="course-footer">
                                    <span class="course-per-num pull-left">
                                        <i class="fa fa-users"></i>

                                        121

                                    </span>
                                <span class="course-bootcamp pull-right">训练营</span>
                            </div>
                        </a>
                    </div>-->


                </div>


                <nav class="pagination-container">
                    <ul class="pagination">
                        <!--分页工具栏-->
                        <div id="demo4"></div>
                    </ul>
                </nav>


            </div>

        </div>
        <div class="col-md-3 layout-side">


            <div class="panel-body body-userinfo">
                <div class="media userinfo-header">
                    <div class="media-left">
                        <div class="user-avatar">
                                 <span th:if="${session.user} ne null ">
                            <a href="/user/userinfo/index"><img th:src="${session.user.userImg}" class="circle"  style="width:30px;height: 30px; display: inline" ></a>
                                        </span>

                            <span th:if="${session.user} eq null  ">
                                    <img class="circle" src="/user/img/logo-grey.png">
                                </span>


                        </div>
                    </div>
                    <div class="media-body">
                        <span th:if="${session.user} ne null ">

                            <span class="media-heading username">欢迎<span th:text="${session.user.userName}"></span>来到zking课堂</span>
                        </span>
                        <span th:if="${session.user} eq null  ">
                            <span class="media-heading username">欢迎</span>来到zking课堂</span>
                        </span>
                        <p class="vip-remain">做实验，学编程</p>
                    </div>
                </div>

                    <div class="row userinfo-data">

                        <hr>
                        <div class="btn-group-lr">
                            <span th:if="${session.user} eq null  ">
            <a href="#sign-modal" type="button" class="btn btn-success col-md-5 col-xs-6 login-btn" data-toggle="modal" data-sign="signin">登录</a>
            <a href="#sign-modal" type="button" class="btn btn-success col-md-5 col-xs-6 col-md-offset-1 register-btn" data-toggle="modal" data-sign="signup">注册</a>
                 </span>

                            <span th:if="${session.user} ne null  ">
                        <span th:if="${session.s2} eq b">
            <a href="#sign-modal" type="button" class="btn btn-success col-md-5 col-xs-6 login-btn" data-toggle="modal" data-sign="signin">登录</a>
            <a href="#sign-modal" type="button" class="btn btn-success col-md-5 col-xs-6 col-md-offset-1 register-btn" data-toggle="modal" data-sign="signup">注册</a>
                 </span>
                </span>

                            <span th:if="${session.user} ne null  ">
                        <span th:if="${session.s2} ne b">
            <a href="/user/zhuxiao" type="button" class="btn btn-success col-md-5 col-xs-6 col-md-offset-1 register-btn" data-toggle="modal" data-sign="signup">注销</a>
                 </span>
                </span>
                        </div>

                    </div>

                    <div class="userinfo-footer row">


                        <div id="join-private-course" class="modal fade words-ctrl" tabindex="-1" role="dialog">
                            <div class="modal-dialog" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h4 class="modal-title">加入私有课</h4>
                                    </div>
                                    <div class="modal-body">
                                        <div style="margin:15px 0; font:16px;">输入教师提供的私有课程码可以加入教师的私有课程。</div>
                                        <form id="private-course-form" method="POST" action="/courses/join">
                                            <div class="form-group">
                                                <label for="code">邀请码</label>
                                                <input class="form-control" id="code" name="code" type="text" value="">
                                                <input name="_csrf_token" type=hidden
                                                       value="1483780974##87f89328c5616669f00302a263fe9061bb852818">
                                            </div>
                                        </form>

                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                                        <button type="button" class="btn btn-primary"
                                                onclick="document.getElementById('private-course-form').submit();">确定
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>



        <!--最热课程数据绑定-->
        <div class="sidebox">
            <div class="sidebox-header">
                <h4 class="sidebox-title">最热体系</h4>
            </div>
            <div class="sidebox-body course-content side-list-body" th:each="sys:${sysFive}">
                <a th:href="@{/user/resourseShow/{id}(id=${sys.systemID})}"><img style="width:25px;height:25px" src="/user/img/1471513769430.png" th:src="${sys.systemImg}" >
                    <span th:text="${sys.systemName}"></span></a>
            </div>
        </div>
        <div class="side-image side-qrcode">
            <img src="http://www.veryedu.cn/templates/zhuojing/images/index_129.jpg">
            <div class="side-image-text">关注zking公众号，手机看教程</div>
        </div>

        </div>
    </div>
</div>


<div class="modal fade" id="invite-user" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span
                        class="sr-only">Close</span></button>
                <h4 class="modal-title">邀请好友，双方都可获赠实验豆！</h4>
            </div>
            <div class="modal-body">

                <p><h4><a href="#sign-modal" data-toggle="modal" data-sign="signin">登录</a>后邀请好友注册，您和好友将分别获赠3个实验豆！
            </h4></p>

                <div id="msg-modal"></div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="flash-message" tabindex="-1" role="dialog">
    <div class="modal-dialog" rolw="document">
    </div>
</div>
<div class="modal fade" id="modal-message" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span
                        class="sr-only">Close</span></button>
                <h4 class="modal-title">注意</h4>
            </div>
            <div class="modal-body">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                <button type="button" class="btn btn-primary confirm" data-dismiss="modal">确定</button>
            </div>
        </div>
    </div>
</div>





<div id="base-data"


     data-flash="false"


     data-is-login=false

     data-is-jwt=true
     data-socket-url="wss://comet.shiyanlou.com"
     data-msg-user=""
     data-msg-system=""
></div>

<script src="/user/app/dest/lib/lib.js?=2016121272249"></script>
<script src="/user/static/jquery/2.2.4/jquery.min.js"></script>
<script src="/user/static/ace/1.2.5/ace.js"></script>
<script src="/user/static/aliyun/aliyun-oss-sdk-4.3.0.min.js"></script>
<script src="/user/static/highlight.js/9.8.0/highlight.min.js"></script>
<script src="/user/static/jspdf/1.2.61/jspdf.min.js"></script>
<script src="/user/static/plupload/2.1.9/js/plupload.full.min.js"></script>
<script src="/user/static/zeroclipboard/2.2.0/ZeroClipboard.min.js"></script>
<script src="/user/static/videojs/video.min.js"></script>

<script src="/user/static/bootstrap-tour/0.11.0/js/bootstrap-tour.min.js"></script>
<script src="/user/static/bootstrap-table/1.11.0/bootstrap-table.min.js"></script>
<script src="/user/static/bootstrap-table/1.11.0/locale/bootstrap-table-zh-CN.min.js"></script>
<script src="/user/static/bootstrap-table/1.11.0/extensions/filter-control/bootstrap-table-filter-control.min.js"></script>

<script src="/user/static/ravenjs/3.7.0/raven.min.js"></script>
<script>
    Raven.config('https://bc3878b7ed0a4468a65390bd79e6e73f@sentry.shiyanlou.com/5', {
        release: '3.12.13'
    }).install();
</script>


<div id="jinja-data"
     data-loginurl="/login"
     data-private-course-url="/courses/join"
     data-site-type="0"

></div>

<script src="/user/app/dest/course/index.js?=2016121272249"></script>



<!--引入layui-->
<script type="text/javascript" src="/user/layui/layui.js"></script>
<script type="text/javascript">

    /**
     * 提取config
     * yan
     */
    function myconfig() {
        if(""!=search&&search!=null){
            config={page:pageindex,limit:pageSize,"courseName":search};
        }
        else{
            config={page:pageindex,limit:pageSize,"courseType.tId":function () {
                    if(tid!=0){
                        return tid;
                    }
                    if(tid==0){
                        return "";
                    }
                }}
        }
    }


    var i=0;

    var pageindex=1;//当前页
    var pageSize=6;//每页显示条数

    /**
     * 扩大左右域
     */
    var tid=0;//课程类别id
    var count=0;//总行数

    var search = $("#search").val();
    //不显示首页尾页
    var config;

    var url="/user/searchCourse";

    layui.use(['laypage', 'layer'], function(){
        var laypage = layui.laypage,layer = layui.layer;

        //绑定头部
        mytype();

        myconfig();//判断最终许传入的参数

        // searchCourse();//搜索
        $.getJSON(url,config,function(res) {
            count=res.count;
            laypage.render({
                elem: 'demo4'
                , count: count
                , limit: pageSize//每页条数
                , first: false
                , last: false
                , jump: function (obj, first) {
                    myconfig();//判断最终许传入的参数
                    this.count=count;
                    if (!first) {
                        config.page = obj.curr;
                        getUserListByPage(url, config);
                    }
                }
            })
            getUserListByPage(url,config);
        })
    })


    //点击页数从后台获取数据
    function getUserListByPage(url,config){
        $.getJSON(url,config,function(res){
            parseUserList(res);
        });
    }

    //解析数据，currPage参数为预留参数，当删除一行刷新列表时，可以记住当前页而不至于显示到首页去
    function parseUserList(res){
        count = res.count;
        //alert(res.data)
        var content = "";
        $.each(res.data, function (i, o) {
            content+="<div class=\"col-md-4 col-sm-6  course\">\n" +
                "<a class=\"course-box\" href=\"/user/showCourse?sid="+o.courseID+"\">\n" +
                "<div class=\"sign-box\">\n" +
                "<i class=\"fa fa-star-o course-follow pull-right\"\n" +
                "data-follow-url=\"/courses/717/follow\"\n" +
                "data-unfollow-url=\"/courses/717/unfollow\" style=\"display:none\"></i>\n" +
                "</div>\n" +
                "<div class=\"course-img\">\n" +
                "<img alt=\""+o.courseName+"\"\n" +
                "src=\""+o.courseImg+"\">\n" +
                "</div>\n" +
                "<div class=\"course-body\">\n" +
                "<span class=\"course-title\" data-toggle=\"tooltip\" data-placement=\"bottom\"\n" +
                "title=\""+o.courseName+"\">"+o.courseName+"</span>\n" +
                "</div>\n" +
                "<div class=\"course-footer\">\n" +
                "<span class=\"course-per-num pull-left\">\n" +
                "<i class=\"fa fa-users\"></i>"+o.courseNum+"</span>\n" +
                "</div>\n" +
                "</a>\n" +
                "</div>"
        });
        $('#coursecontent').html(content);
    }

    /*$(function () {

    })*/

    function mytype() {
        $.ajax({
            type: "GET",
            url: "/user/getCourseTypes",//请求接口
            dataType: "json", //预期服务器返回数据的类型
            success: function (data) {
                console.log(data);
                if (data.code == 200) {//请求成功
                    mytypedata(data.data);
                } else {//接口请求失败
                    alert("接口请求异常");
                }
            }
        })
    }

    //绑定课程类型数据
    function mytypedata(objs) {
        var str = "<a class=\"active\"  href=\"javascript:void(0)\" onclick='mycourseType(0)'>全部</a>";
        for (var i = 0; i < objs.length; i++) {
            str += "<a class=\"\" name='types' href=\"javascript:void(0)\"  onclick='mycourseType("+objs[i].tid+")'>" + objs[i].tname + "</a>";
        }
        $("#coursetype").html(str);
    }


    $(".system").on("click","a",function () {
        //将所有class移除
        search=null;
        $(".system a").removeClass("active");
        $(this).addClass("active");
    });

    /**
     * 点击课程类别
     */
    function mycourseType(id){
        tid=id;
        var cfg={page:pageindex,limit:pageSize,"courseType.tId":function () {
                if(tid!=0){
                    search=null;
                    return tid;
                }
                if(id==0){
                    search="";//搜索所有时清空搜索的值
                    return "";
                }
                return id;
            }};
        getUserListByPage(url,cfg);
    }


    /**
     * 课程搜索
     */
    function searchCourse(){
        var str = $("#search").val();//获取隐藏标签的值
        if(str==null){
            return;
        }
        var cfg={page:1,limit:6,"courseName":str};
        getUserListByPage(url,cfg);
    }


</script>

<script src="/userjs/zc.js"></script>
<script src="/userjs/login.js"></script>

<!--嵌套头部header-->
<div th:replace="user/header::header"></div>




<!--包含底部-->
<div th:replace="user/footer::footer"></div>

</body>
</html>
